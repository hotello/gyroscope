<template name="Posts_list">
  {{#if showInput}}
    {{> EasySearch.Input index=postsIndex}}
  {{/if}}

  {{#EasySearch.Each index=postsIndex}}
    {{> Template.contentBlock post=this}}
  {{/EasySearch.Each}}

  {{#EasySearch.IfNoResults index=postsIndex template=noResultsTemplate}}
    {{#if template}}
      {{> Template.dynamic template=template}}
    {{else}}
      {{> Posts_no_results}}
    {{/if}}
  {{/EasySearch.IfNoResults}}

  {{#EasySearch.IfSearching index=postsIndex template=searchingTemplate}}
    {{#if template}}
      {{> Template.dynamic template=template}}
    {{else}}
      {{> Posts_searching}}
    {{/if}}
  {{/EasySearch.IfSearching}}

  {{> EasySearch.LoadMore index=postsIndex content=loadMoreMessage}}
</template>

<template name="Posts_no_results">
  <p>No posts found :(</p>
</template>

<template name="Posts_searching">
  <p>Looking for posts...</p>
</template>

<template name="Posts_item">
  {{> Template.contentBlock post=post}}
</template>

<template name="Posts_form_insert">
  {{> quickForm
    schema=schema
    id="Posts_form_insert"
    type="method"
    meteormethod="posts.insert"
  }}
</template>

<template name="Posts_form_update">
  {{> quickForm
    schema=schema
    id="Posts_form_update"
    doc=post
    type="method-update"
    meteormethod="posts.update"
    singleMethodArgument=true
  }}
</template>
